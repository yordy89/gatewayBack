(this.webpackJsonpplataforma=this.webpackJsonpplataforma||[]).push([[0],{69:function(e,n,t){e.exports=t(81)},81:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),i=t.n(c),o=t(4),l=t(23),u=t(5),d=t(111),m=t(121),s=t(112),f=t(113),h=t(110),p=t(117),b=t(116),g=t(120),v=t(109),E=t(34);function j(){var e=Object(o.a)(["\n    text-decoration: none;\n    color: black;\n"]);return j=function(){return e},e}function O(){var e=Object(o.a)(["\n    flex: 1;\n    text-align: center\n"]);return O=function(){return e},e}function y(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: rgba(0,0,0,.3);\n    cursor: pointer;\n    text-decoration: underline;\n    margin-right: 10px;\n"]);return y=function(){return e},e}function w(){var e=Object(o.a)(["\n    display: flex;\n    align-items:center;\n    justify-content: center;\n    gap:1rem;\n"]);return w=function(){return e},e}function x(){var e=Object(o.a)(["\n    font-size: 1rem;\n"]);return x=function(){return e},e}function A(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: rgba(0,0,0,.3);\n"]);return A=function(){return e},e}function _(){var e=Object(o.a)(["\n    display:flex;\n    flex-direction:column;\n    margin-bottom:5px;\n"]);return _=function(){return e},e}function T(){var e=Object(o.a)(["\n    height:100%;\n    width:100%;\n    padding:.2rem 0;\n    margin-bottom:1rem;\n    border: solid .1rem rgba(0,0,0,.1);\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    gap:.3rem;\n    ","{\n        grid-template-columns: 1fr;\n        padding: .5rem;\n    };\n"]);return T=function(){return e},e}var C=Object(m.a)((function(e){var n=e.theme,t=e.id,a=e.name,c=e.ipv4Address,i=e.handleDelete,o=e.edit,l=e.setEdit,u=e.handleEdit,d=e.gateway,m=e.handleChange,s=e.errors;return r.a.createElement(k,{theme:n},r.a.createElement(G,null,r.a.createElement(g.a,null,r.a.createElement(v.a,null))),r.a.createElement(S,null,r.a.createElement(D,null,"Name"),o?r.a.createElement(b.a,{name:"name",value:d.name,variant:"outlined",size:"small",onChange:m,error:s.name,required:!0}):r.a.createElement(z,null,a)),r.a.createElement(S,null,r.a.createElement(D,null,"Ipv4 Address"),o?r.a.createElement(b.a,{name:"ipv4Address",value:d.ipv4Address,variant:"outlined",size:"small",onChange:m,error:s.ipv4Address,required:!0}):r.a.createElement(z,null,c)),r.a.createElement(G,null,r.a.createElement(L,null,r.a.createElement(N,{onClick:function(){return u(t)}},o?"Save":"Edit"),o?r.a.createElement(N,{onClick:function(){return l(!1)}},"Cancel"):r.a.createElement(N,{onClick:function(){return i(t)}},"Remove")),!o&&r.a.createElement(I,{to:"/gateway/".concat(t)},"See More Details ...")))})),k=Object(u.a)(h.a)(T(),(function(e){return e.theme.breakpoints.down("md")})),S=Object(u.a)(p.a)(_()),D=u.a.span(A()),z=u.a.span(x()),G=Object(u.a)(p.a)(w()),N=u.a.span(y()),L=Object(u.a)(p.a)(O()),I=Object(u.a)(E.b)(j()),W=t(45),Y=t.n(W),V=t(60),X=t(20),R=t(12),q={gateways:[]};var J=function(e){return function(n){n({type:"ADD_GATEWAY",payload:e})}},P=function(e){return function(n){n({type:"EDIT_GATEWAY",payload:e})}},U=t(17),M=t(16),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=Object(l.b)(),r=Object(a.useState)(!1),c=Object(M.a)(r,2),i=c[0],o=c[1],u=Object(a.useState)({}),d=Object(M.a)(u,2),m=d[0],s=d[1],f=Object(a.useState)({name:e,ipv4Address:n}),h=Object(M.a)(f,2),p=h[0],b=h[1],g=function(e){b(Object(R.a)(Object(R.a)({},p),{},Object(U.a)({},e.target.name,e.target.value)))},v=function(){var e={};e.name=!p.name,e.ipv4Address=!p.ipv4Address,s(Object(R.a)({},e))};Object(a.useEffect)((function(){v()}),[p]);var E=function(){return m.name||m.ipv4Address},j=function(){!E()&&fetch("".concat("http://localhost:4000","/gateway"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(e){t(J(e)),b({name:"",ipv4Address:""})})).catch((function(e){return console.log(e)}))},O=function(e){i?!E()&&fetch("".concat("http://localhost:4000","/gateway/").concat(e),{method:"Put",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(e){t(P(e)),o(!1)})).catch((function(e){return console.log(e)})):o(!0)};return{gateway:p,handleChange:g,handleAdd:j,edit:i,setEdit:o,handleEdit:O,errors:m}};function F(){var e=Object(o.a)(["\n    display:flex;\n    justify-content:center;\n"]);return F=function(){return e},e}var H=function(e){var n=e.id,t=e.name,a=e.ipv4Address,c=B(t,a),i=c.gateway,o=c.handleChange,u=c.handleEdit,d=c.edit,m=c.setEdit,s=c.errors,f=Object(l.b)();return r.a.createElement(K,null,r.a.createElement(C,{id:n,name:t,ipv4Address:a,handleDelete:function(e){fetch("".concat("http://localhost:4000","/gateway/").concat(e),{method:"Delete",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return f(function(e){return function(n){n({type:"REMOVE_GATEWAY",payload:e})}}(e))})).catch((function(e){return console.log(e)}))},edit:d,setEdit:m,gateway:i,handleChange:o,handleEdit:u,errors:s}))},K=u.a.div(F());function Q(){var e=Object(o.a)(["\n    width:100%;\n"]);return Q=function(){return e},e}var Z=function(e){var n=e.gatewayList;return r.a.createElement($,null,r.a.createElement(d.a,{variant:"h5",align:"center",color:"textSecondary"},"Gateway List"),n.map((function(e){return r.a.createElement(H,{key:e._id,id:e._id,name:e.name,ipv4Address:e.ipv4Address})})))},$=u.a.div(Q()),ee=function(){var e=Object(l.c)((function(e){return e.gateways.gateways}));return r.a.createElement(Z,{gatewayList:e})};function ne(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: rgba(0,0,0,.3);\n    cursor: pointer;\n    text-decoration: underline;\n"]);return ne=function(){return e},e}function te(){var e=Object(o.a)(["\n    display: flex;\n    align-items:center;\n    justify-content: center;\n"]);return te=function(){return e},e}function ae(){var e=Object(o.a)(["\n    font-size: 1rem;\n"]);return ae=function(){return e},e}function re(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: rgba(0,0,0,.3);\n"]);return re=function(){return e},e}function ce(){var e=Object(o.a)(["\n    display:flex;\n    flex-direction:column;\n"]);return ce=function(){return e},e}function ie(){var e=Object(o.a)(["\n    width:95%;\n    padding:.2rem;\n    margin-bottom:.2rem;\n    border: solid .1rem rgba(0,0,0,.1);\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap:.3rem;\n    ","{\n        grid-template-columns: 1fr;\n    };\n"]);return ie=function(){return e},e}function oe(){var e=Object(o.a)(["\n    height:90%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n    overflow-y: scroll;\n"]);return oe=function(){return e},e}function le(){var e=Object(o.a)(["\n    width:95%;\n    height:90%;\n"]);return le=function(){return e},e}function ue(){var e=Object(o.a)(["\n    width:60%;\n    height:90%;\n    background-color: rgba(0, 0, 0, .1);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap:2rem;\n    padding-bottom: 1rem;\n    ","{\n        width:100%;\n    };\n"]);return ue=function(){return e},e}var de=Object(m.a)((function(e){var n=e.gateway,t=e.handleChange,a=e.handleAdd,c=e.errors,i=e.theme;return r.a.createElement(me,{theme:i},r.a.createElement(se,{elevation:5},r.a.createElement(fe,null,r.a.createElement(he,{theme:i},r.a.createElement(d.a,{variant:"h5",align:"center",color:"textSecondary"},"Add Gateway"),r.a.createElement(pe,null,r.a.createElement(be,null,"Name"),r.a.createElement(ge,{name:"name",variant:"outlined",size:"small",focused:!0,value:n.name,onChange:t,required:!0,inputProps:{maxLength:15},error:c.name})),r.a.createElement(pe,null,r.a.createElement(be,null,"Ipv4Address"),r.a.createElement(ge,{name:"ipv4Address",variant:"outlined",size:"small",value:n.ipv4Address,onChange:t,error:c.ipv4Address,required:!0})),r.a.createElement(ve,null,r.a.createElement(Ee,{onClick:a},"Add"))),r.a.createElement(ee,null))))})),me=u.a.div(ue(),(function(e){return e.theme.breakpoints.down("md")})),se=Object(u.a)(s.a)(le()),fe=Object(u.a)(f.a)(oe()),he=Object(u.a)(h.a)(ie(),(function(e){return e.theme.breakpoints.down("md")})),pe=Object(u.a)(p.a)(ce()),be=u.a.span(re()),ge=Object(u.a)(b.a)(ae()),ve=Object(u.a)(p.a)(te()),Ee=u.a.span(ne()),je=function(){var e=B(),n=e.gateway,t=e.handleChange,a=e.handleAdd,c=e.errors;return r.a.createElement(de,{handleChange:t,handleAdd:a,gateway:n,errors:c})};function Oe(){var e=Object(o.a)(["\n    width:100%;\n    height: 100vh;\n    display:flex;\n    justify-content: center;\n    align-items: center;\n"]);return Oe=function(){return e},e}var ye=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(V.a)(Y.a.mark((function e(n){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:4000","/gateway"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.t0=n,e.t1="GET_GATEWAY",e.next=7,t.json();case 7:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),r.a.createElement(we,null,r.a.createElement(je,null))},we=u.a.div(Oe()),xe=t(28),Ae=t(61),_e=Object(xe.c)({gateways:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_GATEWAY":case"SET_GATEWAY":return Object(R.a)(Object(R.a)({},e),{},{gateways:n.payload});case"ADD_GATEWAY":return Object(R.a)(Object(R.a)({},e),{},{gateways:[].concat(Object(X.a)(e.gateways),[n.payload])});case"REMOVE_GATEWAY":return Object(R.a)(Object(R.a)({},e),{},{gateways:e.gateways.filter((function(e){return e._id!==n.payload._id}))});case"EDIT_GATEWAY":return Object(R.a)(Object(R.a)({},e),{},{gateways:e.gateways.map((function(e){return e._id===n.payload._id&&(e=Object(R.a)(Object(R.a)({},e),n.payload)),e}))});default:return e}}});window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var Te=t(118),Ce=t(9),ke=t(115),Se=t(114);function De(){var e=Object(o.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  cursor: pointer;\n  color: red;\n"]);return De=function(){return e},e}function ze(){var e=Object(o.a)(["\n    font-size: 1rem;\n"]);return ze=function(){return e},e}function Ge(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: black;\n"]);return Ge=function(){return e},e}function Ne(){var e=Object(o.a)(["\n    display:flex;\n    flex-direction:column;\n    margin-bottom:5px;\n"]);return Ne=function(){return e},e}function Le(){var e=Object(o.a)(["\n    background-color: rgba(0,0,0,.2);\n    padding: 1rem;\n    margin-bottom:1rem;\n    border: solid .1rem rgba(0,0,0,.1);\n    display: grid;\n    grid-template-columns: repeat(6, 1fr);\n    gap:.3rem;\n    margin-right: 1rem;\n    ","{\n        grid-template-columns: 1fr;\n        padding: .5rem;\n    };\n"]);return Le=function(){return e},e}var Ie=Object(m.a)((function(e){var n=e.device,t=e.theme,a=e.handleDelete;return r.a.createElement(We,{theme:t},r.a.createElement(Re,{onClick:function(){return a(n._id)}},r.a.createElement(Se.a,null)),r.a.createElement(Ye,null,r.a.createElement(Ve,null,"Vendor"),r.a.createElement(Xe,null,n.vendor)),r.a.createElement(Ye,null,r.a.createElement(Ve,null,"Status"),r.a.createElement(Xe,null,n.status?"Online":"Offline")))})),We=Object(u.a)(h.a)(Le(),(function(e){return e.theme.breakpoints.down("md")})),Ye=Object(u.a)(p.a)(Ne()),Ve=u.a.span(Ge()),Xe=u.a.span(ze()),Re=u.a.div(De());function qe(){var e=Object(o.a)(["\n    display: flex;\n    align-items:center;\n    justify-content: center;\n"]);return qe=function(){return e},e}function Je(){var e=Object(o.a)(["\n    font-size: 1rem;\n"]);return Je=function(){return e},e}function Pe(){var e=Object(o.a)(["\n    color: white;\n    font-size: .8rem;\n    margin-bottom: 0.1rem;\n"]);return Pe=function(){return e},e}function Ue(){var e=Object(o.a)(["\n    display:flex;\n    flex-direction:column;\n"]);return Ue=function(){return e},e}function Me(){var e=Object(o.a)(["\n  background-color: rgba(0,0,0,.2);\n    width:95%;\n    padding:.2rem;\n    margin-bottom:.2rem;\n    border: solid .1rem rgba(0,0,0,.1);\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap:.3rem;\n    ","{\n        grid-template-columns: 1fr;\n    };\n"]);return Me=function(){return e},e}function Be(){var e=Object(o.a)(["\n    font-size: .8rem;\n    color: rgba(0,0,0,.3);\n    cursor: pointer;\n    text-decoration: underline;\n    margin-right: 10px;\n    color: white;\n    margin-left: auto;\n    margin-bottom: 0.5rem;\n"]);return Be=function(){return e},e}function Fe(){var e=Object(o.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n"]);return Fe=function(){return e},e}function He(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return He=function(){return e},e}var Ke=Object(m.a)((function(e){var n=e.deviceList,t=void 0===n?[]:n,c=e.gatewayId,i=e.theme,o=Object(a.useState)([]),l=Object(M.a)(o,2),u=l[0],m=l[1],s=Object(a.useState)(!1),f=Object(M.a)(s,2),h=f[0],p=f[1],b=Object(a.useState)({vendor:""}),g=Object(M.a)(b,2),v=g[0],E=g[1];Object(a.useEffect)((function(){m(t)}),[t]);var j=function(e){fetch("".concat("http://localhost:4000","/device/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){m(u.filter((function(n){return n._id!==e})))})).catch((function(e){return console.log(e)}))};return r.a.createElement(Qe,null,r.a.createElement(d.a,{variant:"h5",color:"white",align:"center"},"Device List"),r.a.createElement(Ze,null,u.length>0?u.map((function(e){return r.a.createElement(Ie,{key:e._id,device:e,handleDelete:j})})):r.a.createElement(d.a,null,"No hay device para mostrar")),u.length<10&&r.a.createElement($e,{onClick:function(){return p(!0)}},"Add Device"),h&&r.a.createElement(en,{theme:i},r.a.createElement(d.a,{variant:"h5",align:"center",color:"white"},"Add Device"),r.a.createElement(nn,null,r.a.createElement(tn,null,"Vendor"),r.a.createElement(an,{name:"vendor",variant:"outlined",size:"small",focused:!0,value:v.vendor,onChange:function(e){E(Object(R.a)(Object(R.a)({},v),{},Object(U.a)({},e.target.name,e.target.value)))},required:!0,inputProps:{maxLength:15}})),r.a.createElement(rn,null,r.a.createElement($e,{onClick:function(){fetch("".concat("http://localhost:4000","/device/").concat(c),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}).then((function(e){return e.json()})).then((function(e){m([].concat(Object(X.a)(u),[e])),p(!1),E({vendor:""})})).catch((function(e){return console.log(e)}))}},"Add"))))})),Qe=u.a.div(He()),Ze=Object(u.a)(p.a)(Fe()),$e=u.a.span(Be()),en=Object(u.a)(h.a)(Me(),(function(e){return e.theme.breakpoints.down("md")})),nn=Object(u.a)(p.a)(Ue()),tn=u.a.span(Pe()),an=Object(u.a)(b.a)(Je()),rn=Object(u.a)(p.a)(qe());function cn(){var e=Object(o.a)(["\n  display: flex;\n  color: black;\n  align-items: center;\n  cursor: pointer;\n"]);return cn=function(){return e},e}function on(){var e=Object(o.a)(["\n  font-weight: 300;\n  font-size: 16px;\n  margin-left: 5px\n"]);return on=function(){return e},e}function ln(){var e=Object(o.a)(["\n  color: white;\n  font-weight: 400;\n  text-transform: capitalize;\n"]);return ln=function(){return e},e}function un(){var e=Object(o.a)(["\n  color: white;\n  font-weight: bold;\n  margin-right: 10px;\n"]);return un=function(){return e},e}function dn(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return dn=function(){return e},e}function mn(){var e=Object(o.a)(["\n  width: 90%;\n  height: 90%;\n  background-color: rgba(0,0,0,0.5);\n  padding: 16px;\n  color: white;\n"]);return mn=function(){return e},e}function sn(){var e=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"]);return sn=function(){return e},e}var fn=function(e){var n=e.match.params,t=Object(a.useState)({}),c=Object(M.a)(t,2),i=c[0],o=c[1],l=Object(Ce.f)();return Object(a.useEffect)((function(){fetch("".concat("http://localhost:4000","/gateway/").concat(n.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(o).catch((function(e){return console.log(e)}))}),[n.id]),r.a.createElement(hn,null,r.a.createElement(pn,null,r.a.createElement(jn,{onClick:function(){return l.push("/")}},r.a.createElement(ke.a,null)," ",r.a.createElement(En,null,"Back")),r.a.createElement(bn,null,r.a.createElement(gn,null,"Name:"),r.a.createElement(vn,null,i.name)),r.a.createElement(bn,null,r.a.createElement(gn,null,"Ipv4 Address:"),r.a.createElement(vn,null,i.ipv4Address)),r.a.createElement(Ke,{deviceList:i.deviceList,gatewayId:i._id})))},hn=u.a.div(sn()),pn=u.a.div(mn()),bn=u.a.div(dn()),gn=u.a.h1(un()),vn=u.a.h1(ln()),En=u.a.h5(on()),jn=u.a.div(cn()),On=Object(xe.e)(_e,Object(xe.d)(Object(xe.a)(Ae.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():"")),yn=function(){return r.a.createElement(l.a,{store:On},r.a.createElement(Te.b,{injectFirst:!0},r.a.createElement(E.a,null,r.a.createElement(Ce.c,null,r.a.createElement(Ce.a,{exact:!0,path:"/",component:ye}),r.a.createElement(Ce.a,{path:"/gateway/:id",component:fn})))))};i.a.render(r.a.createElement(yn,null),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.f53eebf2.chunk.js.map